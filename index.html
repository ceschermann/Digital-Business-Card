<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aviation Spare Parts Database</title>
    <link rel="stylesheet" href="https://prov-nm96pyjq3y.trial.akeneo.cloud/css/pim.css?d29427299584ec8992c4ee6fae76b0e5">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lato', Arial, sans-serif;
            background: #f7f7f7;
            color: #262b32;
        }

        .header {
            background: linear-gradient(135deg, #9452BA 0%, #7a3d99 100%);
            color: white;
            padding: 25px 20px;
            box-shadow: 0 2px 8px rgba(148, 82, 186, 0.2);
        }

        .header h1 {
            font-size: 26px;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .search-bar {
            background: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .search-bar input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 20px;
        }

        @media (min-width: 1200px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1600px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .product-card {
            background: white;
            border-radius: 4px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f0f0f0;
        }

        .product-info {
            padding: 15px;
        }

        .product-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #67768A;
        }

        .product-category {
            display: inline-block;
            padding: 5px 14px;
            background: linear-gradient(135deg, #9452BA 0%, #7a3d99 100%);
            color: white;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .product-part-number {
            color: #67768A;
            font-size: 13px;
            margin-bottom: 4px;
            font-weight: 500;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: #9452BA;
            margin-top: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 4px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: #67768A;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #67768A;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #9452BA;
        }

        .modal-body {
            padding: 20px;
        }

        .detail-image {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .detail-field {
            margin-bottom: 15px;
        }

        .detail-label {
            font-weight: 600;
            color: #67768A;
            font-size: 11px;
            text-transform: uppercase;
            margin-bottom: 5px;
            display: block;
            letter-spacing: 0.5px;
        }

        .detail-value {
            font-size: 14px;
            color: #262b32;
            padding: 10px;
            background: #f7f7f7;
            border-radius: 4px;
            border: 1px solid #e8e8e8;
        }

        .detail-value input,
        .detail-value select,
        .detail-value textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 14px;
            font-family: inherit;
        }

        .detail-value textarea {
            min-height: 80px;
            resize: vertical;
        }

        .detail-description {
            grid-column: 1 / -1;
        }

        .modal-actions {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.2s;
        }

        .btn-primary {
            background: #9452BA;
            color: white;
        }

        .btn-primary:hover {
            background: #7a3d99;
        }

        .btn-success {
            background: #9452BA;
            color: white;
        }

        .btn-success:hover {
            background: #7a3d99;
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-in-stock {
            background: #d4edda;
            color: #155724;
        }

        .status-low-stock {
            background: #fff3cd;
            color: #856404;
        }

        .status-out-of-stock {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>✈️ Aviation Spare Parts Database</h1>
        </div>
    </div>

    <div class="container">
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search by part number, name, or category...">
        </div>

        <div class="products-grid" id="productsGrid"></div>
    </div>

    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Product Details</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                <button class="btn btn-primary" id="editBtn" onclick="toggleEdit()">Edit</button>
                <button class="btn btn-success" id="saveBtn" style="display: none;" onclick="saveProduct()">Save</button>
            </div>
        </div>
    </div>

    <script>
        // Sample products database
        let products = [
            {
                id: 1,
                partNumber: 'AF-001-TRB',
                name: 'Turbine Blade Assembly',
                category: 'Engine Parts / Powerplant Components',
                manufacturer: 'Pratt & Whitney',
                price: 45000,
                quantity: 12,
                description: 'High-pressure turbine blade assembly for PW4000 series engines. Critical component requiring regular inspection.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 2,
                partNumber: 'LG-045-BRK',
                name: 'Main Landing Gear Brake Assembly',
                category: 'Landing Gear Components',
                manufacturer: 'Safran Landing Systems',
                price: 78500,
                quantity: 3,
                description: 'Carbon brake assembly for Boeing 737 series. Includes brake pads, pistons, and housing.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'Low Stock'
            },
            {
                id: 3,
                partNumber: 'AV-112-NAV',
                name: 'Flight Management Computer',
                category: 'Avionics / Electronics',
                manufacturer: 'Honeywell Aerospace',
                price: 125000,
                quantity: 0,
                description: 'Dual-channel FMC with GPS and SBAS capability. Compatible with Boeing and Airbus platforms.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'Overhauled',
                status: 'Out of Stock'
            },
            {
                id: 4,
                partNumber: 'FR-089-WNG',
                name: 'Wing Leading Edge Section',
                category: 'Airframe Parts',
                manufacturer: 'Spirit AeroSystems',
                price: 235000,
                quantity: 2,
                description: 'Aluminum alloy leading edge section for A320 family. Includes de-icing components.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 5,
                partNumber: 'HY-023-PMP',
                name: 'Hydraulic Power Pack',
                category: 'Hydraulic / Pneumatic Parts',
                manufacturer: 'Parker Aerospace',
                price: 56000,
                quantity: 8,
                description: 'Primary hydraulic pump assembly with integrated motor and controls. 3000 PSI system.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 6,
                partNumber: 'CB-156-SEAT',
                name: 'Business Class Seat Assembly',
                category: 'Cabin Interior Components',
                manufacturer: 'Collins Aerospace',
                price: 18500,
                quantity: 24,
                description: 'Fully reclining business class seat with entertainment system integration and USB charging.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 7,
                partNumber: 'CS-007-SEAL',
                name: 'O-Ring Seal Kit',
                category: 'Consumables / Expendables',
                manufacturer: 'SKF Aerospace',
                price: 450,
                quantity: 250,
                description: 'High-temperature O-ring seal kit (50 pieces). Suitable for fuel and hydraulic systems.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 8,
                partNumber: 'RT-234-APU',
                name: 'Auxiliary Power Unit Generator',
                category: 'Rotables',
                manufacturer: 'Hamilton Sundstrand',
                price: 165000,
                quantity: 1,
                description: 'APU generator assembly. Fully overhauled with 6-month warranty. 90kVA output.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'Overhauled',
                status: 'Low Stock'
            },
            {
                id: 9,
                partNumber: 'LLP-445-DISK',
                name: 'High-Pressure Compressor Disk',
                category: 'Life-Limited Parts (LLP)',
                manufacturer: 'Rolls-Royce',
                price: 285000,
                quantity: 2,
                description: 'HPC disk for Trent 700 series. Life limit: 20,000 cycles. New with full traceability.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 10,
                partNumber: 'HW-789-BOLT',
                name: 'Titanium Fastener Kit',
                category: 'Hardware / Fasteners',
                manufacturer: 'Alcoa Fastening Systems',
                price: 1200,
                quantity: 150,
                description: 'Aerospace-grade titanium bolt and nut kit (100 pieces). Various sizes included.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 11,
                partNumber: 'EG-567-FAN',
                name: 'Engine Fan Blade Set',
                category: 'Engine Parts / Powerplant Components',
                manufacturer: 'GE Aviation',
                price: 95000,
                quantity: 5,
                description: 'Complete fan blade set for CFM56-7B engine. Composite material with erosion coating.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            },
            {
                id: 12,
                partNumber: 'AV-890-RAD',
                name: 'VHF Communication Radio',
                category: 'Avionics / Electronics',
                manufacturer: 'Rockwell Collins',
                price: 28000,
                quantity: 6,
                description: '25kHz channel spacing VHF comm radio. TSO certified with 8.33kHz capability.',
                image: 'https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&h=400&fit=crop&auto=format',
                condition: 'New',
                status: 'In Stock'
            }
        ];

        let editMode = false;
        let currentProductId = null;

        function renderProducts(filterText = '') {
            const grid = document.getElementById('productsGrid');
            const filtered = products.filter(p => 
                p.name.toLowerCase().includes(filterText.toLowerCase()) ||
                p.partNumber.toLowerCase().includes(filterText.toLowerCase()) ||
                p.category.toLowerCase().includes(filterText.toLowerCase())
            );

            grid.innerHTML = filtered.map(product => `
                <div class="product-card" onclick="showProductDetail(${product.id})">
                    <img src="${product.image}" alt="${product.name}" class="product-image" loading="lazy">
                    <div class="product-info">
                        <div class="product-category">${product.category}</div>
                        <div class="product-title">${product.name}</div>
                        <div class="product-part-number">P/N: ${product.partNumber}</div>
                        <div class="product-price">$${product.price.toLocaleString()}</div>
                        <div style="margin-top: 8px;">
                            <span class="status-badge ${getStatusClass(product.status)}">${product.status}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getStatusClass(status) {
            if (status === 'In Stock') return 'status-in-stock';
            if (status === 'Low Stock') return 'status-low-stock';
            return 'status-out-of-stock';
        }

        function showProductDetail(productId) {
            currentProductId = productId;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('modalTitle').textContent = product.name;
            renderDetailView(product, false);
            document.getElementById('productModal').classList.add('active');
            editMode = false;
        }

        function renderDetailView(product, isEditMode) {
            const body = document.getElementById('modalBody');
            
            if (isEditMode) {
                body.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="detail-image">
                    <div class="detail-grid">
                        <div class="detail-field">
                            <label class="detail-label">Part Number</label>
                            <div class="detail-value">
                                <input type="text" id="edit-partNumber" value="${product.partNumber}">
                            </div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Category</label>
                            <div class="detail-value">
                                <select id="edit-category">
                                    <option value="Airframe Parts" ${product.category === 'Airframe Parts' ? 'selected' : ''}>Airframe Parts</option>
                                    <option value="Engine Parts / Powerplant Components" ${product.category === 'Engine Parts / Powerplant Components' ? 'selected' : ''}>Engine Parts / Powerplant Components</option>
                                    <option value="Avionics / Electronics" ${product.category === 'Avionics / Electronics' ? 'selected' : ''}>Avionics / Electronics</option>
                                    <option value="Landing Gear Components" ${product.category === 'Landing Gear Components' ? 'selected' : ''}>Landing Gear Components</option>
                                    <option value="Hydraulic / Pneumatic Parts" ${product.category === 'Hydraulic / Pneumatic Parts' ? 'selected' : ''}>Hydraulic / Pneumatic Parts</option>
                                    <option value="Cabin Interior Components" ${product.category === 'Cabin Interior Components' ? 'selected' : ''}>Cabin Interior Components</option>
                                    <option value="Consumables / Expendables" ${product.category === 'Consumables / Expendables' ? 'selected' : ''}>Consumables / Expendables</option>
                                    <option value="Rotables" ${product.category === 'Rotables' ? 'selected' : ''}>Rotables</option>
                                    <option value="Life-Limited Parts (LLP)" ${product.category === 'Life-Limited Parts (LLP)' ? 'selected' : ''}>Life-Limited Parts (LLP)</option>
                                    <option value="Hardware / Fasteners" ${product.category === 'Hardware / Fasteners' ? 'selected' : ''}>Hardware / Fasteners</option>
                                </select>
                            </div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Manufacturer</label>
                            <div class="detail-value">
                                <input type="text" id="edit-manufacturer" value="${product.manufacturer}">
                            </div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Condition</label>
                            <div class="detail-value">
                                <select id="edit-condition">
                                    <option value="New" ${product.condition === 'New' ? 'selected' : ''}>New</option>
                                    <option value="Overhauled" ${product.condition === 'Overhauled' ? 'selected' : ''}>Overhauled</option>
                                    <option value="Serviceable" ${product.condition === 'Serviceable' ? 'selected' : ''}>Serviceable</option>
                                    <option value="Repairable" ${product.condition === 'Repairable' ? 'selected' : ''}>Repairable</option>
                                </select>
                            </div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Price (USD)</label>
                            <div class="detail-value">
                                <input type="number" id="edit-price" value="${product.price}">
                            </div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Quantity</label>
                            <div class="detail-value">
                                <input type="number" id="edit-quantity" value="${product.quantity}">
                            </div>
                        </div>
                        <div class="detail-field detail-description">
                            <label class="detail-label">Description</label>
                            <div class="detail-value">
                                <textarea id="edit-description">${product.description}</textarea>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                body.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="detail-image">
                    <div class="detail-grid">
                        <div class="detail-field">
                            <label class="detail-label">Part Number</label>
                            <div class="detail-value">${product.partNumber}</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Category</label>
                            <div class="detail-value">${product.category}</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Manufacturer</label>
                            <div class="detail-value">${product.manufacturer}</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Condition</label>
                            <div class="detail-value">${product.condition}</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Price</label>
                            <div class="detail-value">$${product.price.toLocaleString()}</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Quantity</label>
                            <div class="detail-value">${product.quantity} units</div>
                        </div>
                        <div class="detail-field">
                            <label class="detail-label">Status</label>
                            <div class="detail-value">
                                <span class="status-badge ${getStatusClass(product.status)}">${product.status}</span>
                            </div>
                        </div>
                        <div class="detail-field detail-description">
                            <label class="detail-label">Description</label>
                            <div class="detail-value">${product.description}</div>
                        </div>
                    </div>
                `;
            }
        }

        function toggleEdit() {
            editMode = !editMode;
            const product = products.find(p => p.id === currentProductId);
            renderDetailView(product, editMode);
            
            document.getElementById('editBtn').style.display = editMode ? 'none' : 'block';
            document.getElementById('saveBtn').style.display = editMode ? 'block' : 'none';
        }

        function saveProduct() {
            const product = products.find(p => p.id === currentProductId);
            if (!product) return;

            product.partNumber = document.getElementById('edit-partNumber').value;
            product.category = document.getElementById('edit-category').value;
            product.manufacturer = document.getElementById('edit-manufacturer').value;
            product.condition = document.getElementById('edit-condition').value;
            product.price = parseFloat(document.getElementById('edit-price').value);
            product.quantity = parseInt(document.getElementById('edit-quantity').value);
            product.description = document.getElementById('edit-description').value;

            // Update status based on quantity
            if (product.quantity === 0) {
                product.status = 'Out of Stock';
            } else if (product.quantity < 5) {
                product.status = 'Low Stock';
            } else {
                product.status = 'In Stock';
            }

            renderProducts(document.getElementById('searchInput').value);
            toggleEdit();
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('active');
            editMode = false;
            currentProductId = null;
            document.getElementById('editBtn').style.display = 'block';
            document.getElementById('saveBtn').style.display = 'none';
        }

        // Initialize
        document.getElementById('searchInput').addEventListener('input', (e) => {
            renderProducts(e.target.value);
        });

        // Close modal when clicking outside
        document.getElementById('productModal').addEventListener('click', (e) => {
            if (e.target.id === 'productModal') {
                closeModal();
            }
        });

        // Initial render
        renderProducts();
    </script>
</body>
</html>
